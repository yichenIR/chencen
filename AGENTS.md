# 鋼琴學習網站專案規格書

## 專案概述
這是一個純前端的互動式鋼琴學習網站，目標是幫助使用者學習基礎鋼琴知識和練習彈奏技巧。專案採用純 HTML/CSS/JavaScript 開發，方便部署到 GitHub Pages。

## 技術棧
- HTML5
- CSS3
- JavaScript (原生)
- 外部庫：
  - Bootstrap 5.3.0 (CDN)
  - Tone.js 14.7.77 (CDN)


## 當前功能實現

### 1. 鋼琴介面
- [x] 互動式鋼琴鍵盤（兩個八度）
- [x] 音符標籤顯示
- [x] 按鍵視覺反饋
- [x] 真實鋼琴音效
- [x] 黑鍵位於白鍵之間的正確位置

### 2. 控制方式
- [x] 滑鼠點擊控制
- [x] 鍵盤控制
  - 低八度白鍵：Z(C3), X(D3), C(E3), V(F3), B(G3), N(A3), M(B3)
  - 低八度黑鍵：S(C#3), D(D#3), G(F#3), H(G#3), J(A#3)
  - 高八度白鍵：Q(C4), W(D4), E(E4), R(F4), T(G4), Y(A4), U(B4)
  - 高八度黑鍵：2(C#4), 3(D#4), 5(F#4), 6(G#4), 7(A#4)

### 3. 練習功能
- [x] 基礎練習模式
- [x] 隨機音符練習
- [x] 進度追蹤
- [x] 練習完成提示

## 最近更新
- 2025-06-13
  - 擴展鋼琴範圍至兩個八度（八度音3和4）
  - 重新設計鍵盤映射以支援兩個八度
  - 修正黑鍵的位置，確保正確對齊在白鍵之間
  - 使用 PolySynth 改善多音播放體驗
  - 優化視覺佈局和樣式

## 待開發功能

### 1. 進階練習功能
- [ ] 多個八度音的支援
- [ ] 預設曲目練習
- [ ] 自定義練習曲目
- [ ] 節拍器功能
- [ ] 錄音和播放功能

### 2. 學習輔助功能
- [ ] 音階教學
- [ ] 和弦教學
- [ ] 樂理知識庫
- [ ] 練習歷史記錄
- [ ] 學習進度分析

### 3. 使用者體驗優化
- [ ] 自定義鍵盤映射
- [ ] 音量控制
- [ ] 不同音色選擇
- [ ] 深色模式支援
- [ ] 響應式設計優化

### 4. 社交功能
- [ ] 用戶系統
- [ ] 練習記錄分享
- [ ] 曲目分享
- [ ] 社群討論

## 檔案結構
```
/
├── index.html      # 主頁面
├── styles/
│   └── main.css    # 樣式表
├── scripts/
│   └── piano.js    # 鋼琴功能實現
└── README.md       # 專案說明
```

## API 文檔

### Tone.js 使用
- 目前使用 `Tone.Synth()` 產生鋼琴音效
- 支援的事件：
  - triggerAttack：開始播放音符
  - triggerRelease：停止播放音符

### 事件處理
1. 滑鼠事件
   - mousedown：觸發音符播放
   - mouseup：停止音符播放
   - mouseleave：停止音符播放

2. 鍵盤事件
   - keydown：觸發音符播放
   - keyup：停止音符播放

## 開發注意事項
1. 保持純前端實現，避免後端依賴
2. 使用 CDN 引入外部庫，確保部署便利性
3. 維持程式碼模組化，便於功能擴展
4. 確保跨瀏覽器兼容性
5. 優先考慮使用者體驗
6. 注意音符的準確性和音高校正

## 後續開發建議
1. 實現節拍器功能
2. 添加音量控制
3. 實現曲目練習系統
4. 加入和弦練習功能
5. 添加不同音色選擇
6. 改善移動裝置支援
7. 考慮添加錄音和播放功能

## 更新歷史
- 2025-06-13：第二版
  - 擴展至兩個八度的鋼琴鍵盤
  - 重新設計鍵盤映射
  - 修正黑鍵位置和音高
- 2025-06-06：初始版本
  - 完成基礎鋼琴界面
  - 實現基本音符練習功能
  - 支援鍵盤和滑鼠控制
